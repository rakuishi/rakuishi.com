+++
date = "2011-11-19T18:32:10+09:00"
draft = false
title = "[WordPress] 不要な画像ファイルがサーバーに蓄積されているのをご存知ですか？"
categories = ["WordPress"]
slug = "1403"
+++

この記事は、WordPressでブログを書いていて、レンタルサーバーに画像をアップロードしている人向けに書いています。

MarsEditに画像をドラッグアンドドロップしてアップロードするのが快適すぎて、さくらのレンタルサーバーに画像を投げる日々。以前は、Flickrを使っていましたが、アップロードの手間がブログを書く気力を削ぐこと、また、画像を一括管理したいという理由から、サーバーに画像を上げています。

ふと、画像を蓄えたフォルダを見てみると、見慣れない不要な画像ファイルがサーバーにアップロードされていることに気付きました。

<h2>試しにアップロードした画像のフォルダを見てみる</h2>

画像のアップロード先は、以下のファイル階層にあります。

/wp-content/uploads/year/month/

サーバーの画像ファイルを見てみます。

<img style="display:block; margin-left:auto; margin-right:auto;" src="/images/2011/11/1403_1.png" border="0" width="500" height="355" />

すると、自分がアップロードしたオリジナル画像ファイル（hero.jpg）に加えて、サイズダウンされた画像（hero-150x150.jpg, hero-300x242.jpg）が見つかります。

僕はブログのトップページに150x150のサムネイル画像を使用していて、150x150は必要ですが、300x242は不要な画像ファイルです。

何故、ユーザーが意図しない画像ファイルが生成されているのでしょうか？

<h2>ダッシュボードのメディア設定に注目！</h2>

この問題は、WordPressのメディア設定から解決できます。メディア設定は、「ダッシュボード」→「設定」→「メディア」にあります。

<img style="display:block; margin-left:auto; margin-right:auto;" src="/images/2011/11/1403_2.png" border="0" width="473" height="270" />

この「画像サイズ」でファイルサイズが設定されていると、画像をアップロードするたびに設定されたサイズの画像（図では、サムネイルサイズと中サイズと大サイズ）を生成します。まったく困ったデフォルト設定です。

小さいサイズの画像が必要ないときは、メディアのサイズを0に設定すれば、以後不要な画像ファイルが生成されません。こんな感じに。

<img style="display:block; margin-left:auto; margin-right:auto;" src="/images/2011/11/1403_3.png" border="0" width="473" height="268" />

ただし、ここで設定してあったサイズの画像を今後サムネイル画像として使用したいときに、困ることになるので自己責任でお願いします。

参考：<a href="http://ja.forums.wordpress.org/topic/1322" target="_blank">WordPress › フォーラム » イメージが３種類重複して登録される</a><br/>参考：<a href="http://wpdocs.sourceforge.jp/%E7%AE%A1%E7%90%86%E3%83%91%E3%83%8D%E3%83%AB/%E3%83%A1%E3%83%87%E3%82%A3%E3%82%A2%E8%A8%AD%E5%AE%9A" target="_blank">管理パネル/メディア設定 - WordPress Codex 日本語版</a>
